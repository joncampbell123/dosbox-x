<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<title>How to use</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./docinfo/copy-to-clipboard.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">DSP command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xE1</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">Supported on</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions, most clones</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return DSP version</p></td>
</tr>
</tbody>
</table>
<div class="sect1">
<h2 id="_how_to_use">How to use</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>DSP_Write(0xE1);
major = DSP_Read();
minor = DSP_Read();</pre>
</div>
</div>
<div class="paragraph">
<p>Write command 0xE1. The two bytes returned by the DSP are the major and
minor version numbers of the DSP.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_dsp_version_numbers_and_copyright_strings">Known DSP version numbers and copyright strings</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16%;">
<col style="width: 18%;">
<col style="width: 18%;">
<col style="width: 48%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Card</th>
<th class="tableblock halign-left valign-top">Major</th>
<th class="tableblock halign-left valign-top">Minor</th>
<th class="tableblock halign-left valign-top">DSP copyright</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster 1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster 1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster 2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster 2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster Pro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster Pro 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster Pro 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster 16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPYRIGHT &#169; CREATIVE TECHNOLOGY LTD, 1992.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster 16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPYRIGHT &#169; CREATIVE TECHNOLOGY LTD, 1992.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster 16 SCSI-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPYRIGHT &#169; CREATIVE TECHNOLOGY LTD,
1992.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster AWE32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPYRIGHT &#169; CREATIVE TECHNOLOGY LTD,
1992.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster ViBRA16C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPYRIGHT &#169; CREATIVE TECHNOLOGY LTD,
1992.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster ViBRA16XV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPYRIGHT &#169; CREATIVE TECHNOLOGY LTD,
1992.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster AWE64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPYRIGHT &#169; CREATIVE TECHNOLOGY LTD,
1992.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound Blaster AWE64 Gold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPYRIGHT &#169; CREATIVE TECHNOLOGY LTD,
1992.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reveal SC400 (Gallant SC-6000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC-6000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VIA EPIA motherboard emulation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yamaha OPL3-SA2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ESS 688</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ESS 1869</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gravis Ultrasound (SBOS TSR active)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none, does not properly
support command)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gravis Ultrasound (MEGA-EM TSR)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(NOT SUPPORTED, DO NOT USE, TSR
WILL HARD-CRASH SYSTEM)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gravis Ultrasound (MEGA-EM TSR, EMUSET -X2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(NOT SUPPORTED, DO
NOT USE, TSR WILL HARD-CRASH SYSTEM)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows XP NTVDM.EXE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_changeable_dsp_versions">Changeable DSP versions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some Sound Blaster clone support changing the DSP version at runtime.</p>
</div>
<div class="sect2">
<h3 id="_reveal_sc400">Reveal SC400</h3>
<div class="paragraph">
<p>DSP command 0x6E, followed by two bytes (major) and (minor), can be used
to change the DSP version reported by the card. The SBPRO.EXE utility
included with their DOS and Windows 3.1 drivers does exactly this.</p>
</div>
</div>
<div class="sect2">
<h3 id="_yamaha_opl3_sa2">Yamaha OPL3-SA2</h3>
<div class="paragraph">
<p>The OPL3 control port allows selecting between DSP version 2.x and 3.x.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ess_audiodrive">ESS AudioDrive</h3>
<div class="paragraph">
<p>Though not documented by ESS, there exists a register somewhere that can
switch the reported DSP version between 2.x and 3.x, discovered by freak
accident once.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_wrong_or_incorrect_version_numbers">wrong or incorrect version numbers</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 21%;">
<col style="width: 23%;">
<col style="width: 23%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Card</th>
<th class="tableblock halign-left valign-top">Major</th>
<th class="tableblock halign-left valign-top">Minor</th>
<th class="tableblock halign-left valign-top">Problem</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gravis Ultrasound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xAA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xAA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SBOS was used to emulate Sound Blaster,
then unloaded. After unloading, emulation doesn’t work and 0xAA is
always returned</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_external_references">External references</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://the.earth.li/~tfm/oldpage/sb_dsp.html">TFM’s DSP commands</a></p>
</li>
<li>
<p><a href="http://hackipedia.org/Platform/x86/Sound/Creative%20Labs/ISA,%20Sound%20Blaster/pdf/Sound%20Blaster%20Series%20Developer%20Kit%2c%20Second%20Edition.pdf">Developer
Kit for Sound Blaster Series, Second Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
<script src="./docinfo/copy-to-clipboard.js"></script>
</body>
</html>