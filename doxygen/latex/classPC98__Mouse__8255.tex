\hypertarget{classPC98__Mouse__8255}{\section{P\-C98\-\_\-\-Mouse\-\_\-8255 Class Reference}
\label{classPC98__Mouse__8255}\index{P\-C98\-\_\-\-Mouse\-\_\-8255@{P\-C98\-\_\-\-Mouse\-\_\-8255}}
}


P\-C-\/98 System Bus Mouse P\-P\-I emulation (Intel 8255\-A device)  


Inheritance diagram for P\-C98\-\_\-\-Mouse\-\_\-8255\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classPC98__Mouse__8255}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classPC98__Mouse__8255_ae7643f0d9646d6aac477f26fbf6132a4}{virtual uint8\-\_\-t \hyperlink{classPC98__Mouse__8255_ae7643f0d9646d6aac477f26fbf6132a4}{in\-Port\-A} (void) const }\label{classPC98__Mouse__8255_ae7643f0d9646d6aac477f26fbf6132a4}

\begin{DoxyCompactList}\small\item\em Called by 8255 emulation to latch from port A pins. \end{DoxyCompactList}\item 
\hypertarget{classPC98__Mouse__8255_a62483e81d5fad011aaaca35aeee59308}{virtual uint8\-\_\-t \hyperlink{classPC98__Mouse__8255_a62483e81d5fad011aaaca35aeee59308}{in\-Port\-B} (void) const }\label{classPC98__Mouse__8255_a62483e81d5fad011aaaca35aeee59308}

\begin{DoxyCompactList}\small\item\em Called by 8255 emulation to latch from port B pins. \end{DoxyCompactList}\item 
\hypertarget{classPC98__Mouse__8255_aa65cf202bb7b8c59cd7911aeddf9f2bd}{virtual uint8\-\_\-t \hyperlink{classPC98__Mouse__8255_aa65cf202bb7b8c59cd7911aeddf9f2bd}{in\-Port\-C} (void) const }\label{classPC98__Mouse__8255_aa65cf202bb7b8c59cd7911aeddf9f2bd}

\begin{DoxyCompactList}\small\item\em Called by 8255 emulation to latch from port C pins. \end{DoxyCompactList}\item 
\hypertarget{classPC98__Mouse__8255_af64ccdbfb0d8eff0711088b3de6b4949}{virtual void \hyperlink{classPC98__Mouse__8255_af64ccdbfb0d8eff0711088b3de6b4949}{out\-Port\-C} (const uint8\-\_\-t mask)}\label{classPC98__Mouse__8255_af64ccdbfb0d8eff0711088b3de6b4949}

\begin{DoxyCompactList}\small\item\em Called by 8255 emulation when latching to port C pins. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
P\-C-\/98 System Bus Mouse P\-P\-I emulation (Intel 8255\-A device) 

N\-E\-C P\-C-\/98 systems use a 8255 to interface a bus mouse to the system.

This P\-P\-I is connected to I/\-O ports 0x7\-F\-D9-\/0x7\-F\-D\-F odd.
\begin{DoxyItemize}
\item 0x7\-F\-D9 is Port A (input)
\item 0x7\-F\-D\-B is Port B (input)
\item 0x7\-F\-D\-D is Port C (bits\mbox{[}7\-:4\mbox{]} output, bits\mbox{[}3\-:0\mbox{]} input)
\item 0x7\-F\-D\-F is control/mode
\end{DoxyItemize}

Button state is read directly as 3 bits (left, right, middle).

Mouse movement is latched on command and read 4 bits (one nibble at a time) to obtain two signed 8-\/bit x and y mickey counts (to detect movement).

Mouse data is read from port A.

Interrupt inhibit, selection of the nibble, and the command to latch mouse movement is done by writing to port C.

According to some documentation found online, port B is attached to various unrelated signals and/or status.

The interrupt line is connected to I\-R\-Q 13 of the interrupt controller on P\-C-\/98 systems.

There is at least one P\-C-\/98 game \char`\"{}\-Metal Force\char`\"{} known to abuse this interface as a periodic interrupt source instead of using it as an interface for mouse input. 

Definition at line 2254 of file keyboard.\-cpp.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
src/hardware/keyboard.\-cpp\end{DoxyCompactItemize}
